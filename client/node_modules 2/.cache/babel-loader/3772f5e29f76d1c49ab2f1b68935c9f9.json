{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nicolebrooks/Desktop/Spots/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nicolebrooks/Desktop/Spots/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/nicolebrooks/Desktop/Spots/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/nicolebrooks/Desktop/Spots/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/nicolebrooks/Desktop/Spots/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/nicolebrooks/Desktop/Spots/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Link,Redirect}from\"react-router-dom\";import{getDistance,getPreciseDistance}from\"geolib\";import\"./MySpotCard.css\";var MyspotCard=/*#__PURE__*/function(_React$Component){_inherits(MyspotCard,_React$Component);var _super=_createSuper(MyspotCard);function MyspotCard(){var _this;_classCallCheck(this,MyspotCard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={succesfulDelete:false};_this.deleteSpot=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/api/v1/spots/\".concat(_this.props.id),{method:\"DELETE\"});case 2:_this.setState({successfulDelete:true});case 3:case\"end\":return _context.stop();}}},_callee);}));return _this;}_createClass(MyspotCard,[{key:\"render\",value:function render(){if(this.state.successfulDelete){return/*#__PURE__*/React.createElement(Redirect,{to:\"/mySpots\"});}var dis=getDistance({latitude:this.props.lng*1,longitude:this.props.lat*1},{latitude:this.props.mylat*1,longitude:this.props.mylng*1});var miles=dis*0.00062137;var mile=miles.toFixed(0);return/*#__PURE__*/React.createElement(\"div\",{className:\"container3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"MySpotName\"},this.props.name),/*#__PURE__*/React.createElement(\"img\",{className:\"MySpotImg\",src:\"/static/img/spots/\".concat(this.props.img)}),/*#__PURE__*/React.createElement(\"div\",null,\"distance: \",mile,\" miles\"),/*#__PURE__*/React.createElement(\"div\",{className:\"MyBottomLayout\"},/*#__PURE__*/React.createElement(Link,{to:\"/spots/\"+this.props.id},/*#__PURE__*/React.createElement(\"div\",{className:\"MyDetailsBtn\"},\"DETAILS\")),/*#__PURE__*/React.createElement(\"div\",{className:\"edit\"},/*#__PURE__*/React.createElement(Link,{to:\"/spotupdate/\"+this.props.id},/*#__PURE__*/React.createElement(\"div\",{className:\"editBtn\"},\"EDIT\")),/*#__PURE__*/React.createElement(\"button\",{className:\"deleteBtn\",onClick:this.deleteSpot},\"Delete\"))));}}]);return MyspotCard;}(React.Component);export default MyspotCard;","map":{"version":3,"sources":["/Users/nicolebrooks/Desktop/Spots/Client/src/components/MySpotCard/MySpotCard.js"],"names":["React","Link","Redirect","getDistance","getPreciseDistance","MyspotCard","state","succesfulDelete","deleteSpot","fetch","props","id","method","setState","successfulDelete","dis","latitude","lng","longitude","lat","mylat","mylng","miles","mile","toFixed","name","img","Component"],"mappings":"u6BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,IAAT,CAAeC,QAAf,KAA+B,kBAA/B,CACA,OAASC,WAAT,CAAsBC,kBAAtB,KAAgD,QAAhD,CAEA,MAAO,kBAAP,C,GAEMC,CAAAA,U,uVACJC,K,CAAQ,CACNC,eAAe,CAAE,KADX,C,OAIRC,U,sEAAa,yJACLC,CAAAA,KAAK,yBAAkB,MAAKC,KAAL,CAAWC,EAA7B,EAAmC,CAC5CC,MAAM,CAAE,QADoC,CAAnC,CADA,QAIX,MAAKC,QAAL,CAAc,CAAEC,gBAAgB,CAAE,IAApB,CAAd,EAJW,sD,+EAMJ,CACP,GAAI,KAAKR,KAAL,CAAWQ,gBAAf,CAAiC,CAC/B,mBAAO,oBAAC,QAAD,EAAU,EAAE,CAAC,UAAb,EAAP,CACD,CACD,GAAIC,CAAAA,GAAG,CAAGZ,WAAW,CACnB,CAAEa,QAAQ,CAAE,KAAKN,KAAL,CAAWO,GAAX,CAAiB,CAA7B,CAAgCC,SAAS,CAAE,KAAKR,KAAL,CAAWS,GAAX,CAAiB,CAA5D,CADmB,CAEnB,CAAEH,QAAQ,CAAE,KAAKN,KAAL,CAAWU,KAAX,CAAmB,CAA/B,CAAkCF,SAAS,CAAE,KAAKR,KAAL,CAAWW,KAAX,CAAmB,CAAhE,CAFmB,CAArB,CAIA,GAAIC,CAAAA,KAAK,CAAGP,GAAG,CAAG,UAAlB,CACA,GAAIQ,CAAAA,IAAI,CAAGD,KAAK,CAACE,OAAN,CAAc,CAAd,CAAX,CAEA,mBACE,2BAAK,SAAS,CAAC,YAAf,eACE,2BAAK,SAAS,CAAC,YAAf,EAA6B,KAAKd,KAAL,CAAWe,IAAxC,CADF,cAGE,2BACE,SAAS,CAAC,WADZ,CAEE,GAAG,6BAAuB,KAAKf,KAAL,CAAWgB,GAAlC,CAFL,EAHF,cAOE,4CAAgBH,IAAhB,UAPF,cAQE,2BAAK,SAAS,CAAC,gBAAf,eACE,oBAAC,IAAD,EAAM,EAAE,CAAE,UAAY,KAAKb,KAAL,CAAWC,EAAjC,eACE,2BAAK,SAAS,CAAC,cAAf,YADF,CADF,cAIE,2BAAK,SAAS,CAAC,MAAf,eACE,oBAAC,IAAD,EAAM,EAAE,CAAE,eAAiB,KAAKD,KAAL,CAAWC,EAAtC,eACE,2BAAK,SAAS,CAAC,SAAf,SADF,CADF,cAIE,8BAAQ,SAAS,CAAC,WAAlB,CAA8B,OAAO,CAAE,KAAKH,UAA5C,WAJF,CAJF,CARF,CADF,CAwBD,C,wBA9CsBR,KAAK,CAAC2B,S,EAiD/B,cAAetB,CAAAA,UAAf","sourcesContent":["import React from \"react\";\n\nimport { Link, Redirect } from \"react-router-dom\";\nimport { getDistance, getPreciseDistance } from \"geolib\";\n\nimport \"./MySpotCard.css\";\n\nclass MyspotCard extends React.Component {\n  state = {\n    succesfulDelete: false,\n  };\n\n  deleteSpot = async () => {\n    await fetch(`/api/v1/spots/${this.props.id}`, {\n      method: \"DELETE\",\n    });\n    this.setState({ successfulDelete: true });\n  };\n  render() {\n    if (this.state.successfulDelete) {\n      return <Redirect to=\"/mySpots\" />;\n    }\n    var dis = getDistance(\n      { latitude: this.props.lng * 1, longitude: this.props.lat * 1 },\n      { latitude: this.props.mylat * 1, longitude: this.props.mylng * 1 }\n    );\n    var miles = dis * 0.00062137;\n    var mile = miles.toFixed(0);\n\n    return (\n      <div className=\"container3\">\n        <div className=\"MySpotName\">{this.props.name}</div>\n\n        <img\n          className=\"MySpotImg\"\n          src={`/static/img/spots/${this.props.img}`}\n        ></img>\n        <div>distance: {mile} miles</div>\n        <div className=\"MyBottomLayout\">\n          <Link to={\"/spots/\" + this.props.id}>\n            <div className=\"MyDetailsBtn\">DETAILS</div>\n          </Link>\n          <div className=\"edit\">\n            <Link to={\"/spotupdate/\" + this.props.id}>\n              <div className=\"editBtn\">EDIT</div>\n            </Link>\n            <button className=\"deleteBtn\" onClick={this.deleteSpot}>\n              Delete\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MyspotCard;\n"]},"metadata":{},"sourceType":"module"}