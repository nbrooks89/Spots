{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nicolebrooks/Desktop/Spots/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nicolebrooks/Desktop/Spots/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/nicolebrooks/Desktop/Spots/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/nicolebrooks/Desktop/Spots/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/nicolebrooks/Desktop/Spots/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/nicolebrooks/Desktop/Spots/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import\"./Spot.css\";import{Link,Redirect}from\"react-router-dom\";import{Container,Row,Col}from\"reactstrap\";import\"bootstrap/dist/css/bootstrap.min.css\";import{getDistance}from\"geolib\";var Spot=/*#__PURE__*/function(_React$Component){_inherits(Spot,_React$Component);var _super=_createSuper(Spot);function Spot(){var _this;_classCallCheck(this,Spot);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={spot:{location:{}},details:null,succesfulDelete:false};_this.deleteSpot=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/api/v1/spots/\".concat(_this.state.spot.id),{method:\"DELETE\"});case 2:_this.setState({successfulDelete:true});case 3:case\"end\":return _context.stop();}}},_callee);}));_this.handleGetRequest=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"/api/v1/spots/\".concat(_this.props.match.params.id));case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;console.log(data);_this.setState({spot:data.data.spot});// this.props.setSpot(data);\ncase 8:case\"end\":return _context2.stop();}}},_callee2);}));return _this;}_createClass(Spot,[{key:\"componentDidMount\",value:function componentDidMount(){this.handleGetRequest();}},{key:\"render\",value:function render(){console.log(this.state.spot);if(this.state.successfulDelete){return/*#__PURE__*/React.createElement(Redirect,{to:\"/\"});}console.log(\"mySpot\",this.state.spot);return/*#__PURE__*/React.createElement(\"div\",{className:\"mainContainer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"name\"},/*#__PURE__*/React.createElement(\"div\",{className:\"innerName\"},this.state.spot.name)),/*#__PURE__*/React.createElement(\"div\",{className:\"container2\"},/*#__PURE__*/React.createElement(\"img\",{className:\"spotImg\",src:\"/static/img/spots/\".concat(this.state.spot.photo)})),/*#__PURE__*/React.createElement(\"div\",{className:\"detailsBox\"},/*#__PURE__*/React.createElement(\"span\",{className:\"detailsHead\"},\"Details: \"),/*#__PURE__*/React.createElement(\"div\",{className:\"spot-address\"},\"Address:\",/*#__PURE__*/React.createElement(\"span\",{className:\"innertext\"},this.state.spot.address)),/*#__PURE__*/React.createElement(\"div\",{className:\"type\"},\"Spot Type:\",/*#__PURE__*/React.createElement(\"span\",{className:\"innertext\"},this.state.spot.spotType)),/*#__PURE__*/React.createElement(\"div\",{className:\"description\"},\"Description:\",/*#__PURE__*/React.createElement(\"span\",{className:\"innertext\"},this.state.spot.description))));}}]);return Spot;}(React.Component);export default Spot;","map":{"version":3,"sources":["/Users/nicolebrooks/Desktop/Spots/Client/src/pages/Spot/Spot.js"],"names":["React","Link","Redirect","Container","Row","Col","getDistance","Spot","state","spot","location","details","succesfulDelete","deleteSpot","fetch","id","method","setState","successfulDelete","handleGetRequest","props","match","params","response","json","data","console","log","name","photo","address","spotType","description","Component"],"mappings":"u6BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,YAAP,CACA,OAASC,IAAT,CAAeC,QAAf,KAA+B,kBAA/B,CACA,OAASC,SAAT,CAAoBC,GAApB,CAAyBC,GAAzB,KAAoC,YAApC,CACA,MAAO,sCAAP,CACA,OAASC,WAAT,KAA4B,QAA5B,C,GAEMC,CAAAA,I,+TACJC,K,CAAQ,CACNC,IAAI,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CADA,CAENC,OAAO,CAAE,IAFH,CAGNC,eAAe,CAAE,KAHX,C,OAMRC,U,sEAAa,yJACLC,CAAAA,KAAK,yBAAkB,MAAKN,KAAL,CAAWC,IAAX,CAAgBM,EAAlC,EAAwC,CACjDC,MAAM,CAAE,QADyC,CAAxC,CADA,QAIX,MAAKC,QAAL,CAAc,CAAEC,gBAAgB,CAAE,IAApB,CAAd,EAJW,sD,SAObC,gB,sEAAmB,iLACML,CAAAA,KAAK,yBAAkB,MAAKM,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBP,EAA1C,EADX,QACXQ,QADW,uCAEEA,CAAAA,QAAQ,CAACC,IAAT,EAFF,QAEXC,IAFW,gBAGjBC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,MAAKR,QAAL,CAAc,CAAER,IAAI,CAAEgB,IAAI,CAACA,IAAL,CAAUhB,IAAlB,CAAd,EACA;AALiB,wD,+FAQC,CAClB,KAAKU,gBAAL,GACD,C,uCACQ,CACPO,OAAO,CAACC,GAAR,CAAY,KAAKnB,KAAL,CAAWC,IAAvB,EACA,GAAI,KAAKD,KAAL,CAAWU,gBAAf,CAAiC,CAC/B,mBAAO,oBAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAP,CACD,CACDQ,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsB,KAAKnB,KAAL,CAAWC,IAAjC,EACA,mBACE,2BAAK,SAAS,CAAC,eAAf,eACE,2BAAK,SAAS,CAAC,MAAf,eACE,2BAAK,SAAS,CAAC,WAAf,EAA4B,KAAKD,KAAL,CAAWC,IAAX,CAAgBmB,IAA5C,CADF,CADF,cAIE,2BAAK,SAAS,CAAC,YAAf,eACE,2BACE,SAAS,CAAC,SADZ,CAEE,GAAG,6BAAuB,KAAKpB,KAAL,CAAWC,IAAX,CAAgBoB,KAAvC,CAFL,EADF,CAJF,cAUE,2BAAK,SAAS,CAAC,YAAf,eACE,4BAAM,SAAS,CAAC,aAAhB,cADF,cAEE,2BAAK,SAAS,CAAC,cAAf,0BAEE,4BAAM,SAAS,CAAC,WAAhB,EAA6B,KAAKrB,KAAL,CAAWC,IAAX,CAAgBqB,OAA7C,CAFF,CAFF,cAME,2BAAK,SAAS,CAAC,MAAf,4BAEE,4BAAM,SAAS,CAAC,WAAhB,EAA6B,KAAKtB,KAAL,CAAWC,IAAX,CAAgBsB,QAA7C,CAFF,CANF,cAWE,2BAAK,SAAS,CAAC,aAAf,8BAEE,4BAAM,SAAS,CAAC,WAAhB,EAA6B,KAAKvB,KAAL,CAAWC,IAAX,CAAgBuB,WAA7C,CAFF,CAXF,CAVF,CADF,CA6BD,C,kBA5DgBhC,KAAK,CAACiC,S,EA+DzB,cAAe1B,CAAAA,IAAf","sourcesContent":["import React from \"react\";\nimport \"./Spot.css\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { Container, Row, Col } from \"reactstrap\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { getDistance } from \"geolib\";\n\nclass Spot extends React.Component {\n  state = {\n    spot: { location: {} },\n    details: null,\n    succesfulDelete: false,\n  };\n\n  deleteSpot = async () => {\n    await fetch(`/api/v1/spots/${this.state.spot.id}`, {\n      method: \"DELETE\",\n    });\n    this.setState({ successfulDelete: true });\n  };\n\n  handleGetRequest = async () => {\n    const response = await fetch(`/api/v1/spots/${this.props.match.params.id}`);\n    const data = await response.json();\n    console.log(data);\n    this.setState({ spot: data.data.spot });\n    // this.props.setSpot(data);\n  };\n\n  componentDidMount() {\n    this.handleGetRequest();\n  }\n  render() {\n    console.log(this.state.spot);\n    if (this.state.successfulDelete) {\n      return <Redirect to=\"/\" />;\n    }\n    console.log(\"mySpot\", this.state.spot);\n    return (\n      <div className=\"mainContainer\">\n        <div className=\"name\">\n          <div className=\"innerName\">{this.state.spot.name}</div>\n        </div>\n        <div className=\"container2\">\n          <img\n            className=\"spotImg\"\n            src={`/static/img/spots/${this.state.spot.photo}`}\n          ></img>\n        </div>\n        <div className=\"detailsBox\">\n          <span className=\"detailsHead\">Details: </span>\n          <div className=\"spot-address\">\n            Address:\n            <span className=\"innertext\">{this.state.spot.address}</span>\n          </div>\n          <div className=\"type\">\n            Spot Type:\n            <span className=\"innertext\">{this.state.spot.spotType}</span>\n          </div>\n\n          <div className=\"description\">\n            Description:\n            <span className=\"innertext\">{this.state.spot.description}</span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Spot;\n"]},"metadata":{},"sourceType":"module"}