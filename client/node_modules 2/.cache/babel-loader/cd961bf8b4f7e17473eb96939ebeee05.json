{"ast":null,"code":"var _jsxFileName = \"/Users/nicolebrooks/Desktop/spots-front/src/App.js\";\nimport React from \"react\";\nimport \"./App.css\";\nimport AllSpots from \"./pages/AllSpots/AllSpots\";\nimport Spot from \"./pages/Spot/Spot\";\nimport Header from \"./components/Header/Header\";\nimport Account from \"./pages/Account/Account\";\nimport SignUp from \"./pages/SignUp/SignUp\";\nimport CreateSpot from \"./pages/CreateSpot/CreateSpot\";\nimport UpdateSpot from \"./pages/UpdateSpot/UpdateSpot\";\nimport LogIn from \"./pages/LogIn/LogIn\";\nimport MySpots from \"./pages/MySpots/MySpots\";\nimport { Route, Switch } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\"; // import \"./components/Header/node_modules/bootstrap/dist/css/bootstrap.min.css\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      spots: [],\n      user: [],\n      location: {},\n      distance: {},\n      currentUser: []\n    };\n\n    this.setSpots = data => {\n      this.setState({\n        spots: data.data.spots\n      });\n    };\n\n    this.setUser = user => {\n      this.setState({\n        user: user\n      });\n    };\n\n    this.setCurrentUser = data => {\n      this.setState({\n        currentUser: data.data.user\n      });\n    };\n\n    this.getUserGeolocationDetails = async () => {\n      var response = await fetch(\"https://geolocation-db.com/json/697de680-a737-11ea-9820-af05f4014d91\");\n      const data = await response.json(); // console.log(data);\n\n      this.setState({\n        distance: data\n      });\n    };\n\n    this.handleGetRequest = async () => {\n      let jwt = await localStorage.getItem(\"jwt\");\n\n      if (jwt) {\n        let user = jwt_decode(jwt);\n        console.log(\"user\", user);\n        this.setState({\n          user: user\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.getUserGeolocationDetails();\n    this.handleGetRequest();\n    this.setSpot();\n  }\n\n  render() {\n    console.log(\"currentUser\", this.state.user);\n    console.log(\"spot details\", this.state.spot);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header // history= {this.props.location.pathname}\n    , {\n      data: this.state.data,\n      setData: this.setData,\n      user: this.state.user,\n      setUser: this.setUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => /*#__PURE__*/React.createElement(AllSpots, {\n        spots: this.state.spots,\n        setSpots: this.setSpots,\n        distance: this.state.distance,\n        userId: this.state.user.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/spots/:id\",\n      render: routerProps => /*#__PURE__*/React.createElement(Spot, {\n        match: routerProps.match,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 36\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/signup\",\n      render: () => /*#__PURE__*/React.createElement(SignUp, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 45\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/logout\",\n      render: () => /*#__PURE__*/React.createElement(AllSpots, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 45\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/login\",\n      render: () => /*#__PURE__*/React.createElement(LogIn, {\n        user: this.state.user,\n        setUser: this.setUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 25\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/createSpot\",\n      render: () => /*#__PURE__*/React.createElement(CreateSpot, {\n        userId: this.state.user.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 25\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/spots/:id/update\",\n      render: routerProps => /*#__PURE__*/React.createElement(UpdateSpot, {\n        match: routerProps.match,\n        userId: this.state.user.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/account\",\n      render: () => /*#__PURE__*/React.createElement(Account, {\n        user: this.state.user,\n        setUser: this.setUser,\n        currentUser: this.state.currentUser,\n        setCurrentUser: this.setCurrentUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/myspots\",\n      render: () => /*#__PURE__*/React.createElement(MySpots, {\n        currentUser: this.state.currentUser,\n        setCurrentUser: this.setCurrentUser,\n        distance: this.state.distance,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/nicolebrooks/Desktop/spots-front/src/App.js"],"names":["React","AllSpots","Spot","Header","Account","SignUp","CreateSpot","UpdateSpot","LogIn","MySpots","Route","Switch","jwt_decode","App","Component","state","spots","user","location","distance","currentUser","setSpots","data","setState","setUser","setCurrentUser","getUserGeolocationDetails","response","fetch","json","handleGetRequest","jwt","localStorage","getItem","console","log","componentDidMount","setSpot","render","spot","setData","id","routerProps","match"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,OAAP,MAAoB,yBAApB;AACA,OAAOC,MAAP,MAAmB,uBAAnB;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,OAAP,MAAoB,yBAApB;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,kBAA9B;AACA,OAAOC,UAAP,MAAuB,YAAvB,C,CAEA;;AACA,OAAO,sCAAP;;AACA,MAAMC,GAAN,SAAkBb,KAAK,CAACc,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAChCC,KADgC,GACxB;AACNC,MAAAA,KAAK,EAAE,EADD;AAENC,MAAAA,IAAI,EAAE,EAFA;AAGNC,MAAAA,QAAQ,EAAE,EAHJ;AAINC,MAAAA,QAAQ,EAAE,EAJJ;AAKNC,MAAAA,WAAW,EAAE;AALP,KADwB;;AAAA,SAQhCC,QARgC,GAQpBC,IAAD,IAAU;AACnB,WAAKC,QAAL,CAAc;AAAEP,QAAAA,KAAK,EAAEM,IAAI,CAACA,IAAL,CAAUN;AAAnB,OAAd;AACD,KAV+B;;AAAA,SAYhCQ,OAZgC,GAYrBP,IAAD,IAAU;AAClB,WAAKM,QAAL,CAAc;AAAEN,QAAAA,IAAI,EAAEA;AAAR,OAAd;AACD,KAd+B;;AAAA,SAehCQ,cAfgC,GAedH,IAAD,IAAU;AACzB,WAAKC,QAAL,CAAc;AAAEH,QAAAA,WAAW,EAAEE,IAAI,CAACA,IAAL,CAAUL;AAAzB,OAAd;AACD,KAjB+B;;AAAA,SAmBhCS,yBAnBgC,GAmBJ,YAAY;AACtC,UAAIC,QAAQ,GAAG,MAAMC,KAAK,CACxB,sEADwB,CAA1B;AAGA,YAAMN,IAAI,GAAG,MAAMK,QAAQ,CAACE,IAAT,EAAnB,CAJsC,CAKtC;;AACA,WAAKN,QAAL,CAAc;AAAEJ,QAAAA,QAAQ,EAAEG;AAAZ,OAAd;AACD,KA1B+B;;AAAA,SA4BhCQ,gBA5BgC,GA4Bb,YAAY;AAC7B,UAAIC,GAAG,GAAG,MAAMC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAhB;;AACA,UAAIF,GAAJ,EAAS;AACP,YAAId,IAAI,GAAGL,UAAU,CAACmB,GAAD,CAArB;AAEAG,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBlB,IAApB;AACA,aAAKM,QAAL,CAAc;AAAEN,UAAAA,IAAI,EAAEA;AAAR,SAAd;AACD;AACF,KApC+B;AAAA;;AAsChCmB,EAAAA,iBAAiB,GAAG;AAClB,SAAKV,yBAAL;AACA,SAAKI,gBAAL;AACA,SAAKO,OAAL;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACPJ,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B,KAAKpB,KAAL,CAAWE,IAAtC;AACAiB,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4B,KAAKpB,KAAL,CAAWwB,IAAvC;AACA,wBACE,uDACE,oBAAC,MAAD,CACE;AADF;AAEE,MAAA,IAAI,EAAE,KAAKxB,KAAL,CAAWO,IAFnB;AAGE,MAAA,OAAO,EAAE,KAAKkB,OAHhB;AAIE,MAAA,IAAI,EAAE,KAAKzB,KAAL,CAAWE,IAJnB;AAKE,MAAA,OAAO,EAAE,KAAKO,OALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eASE,oBAAC,KAAD;AACE,MAAA,KAAK,MADP;AAEE,MAAA,IAAI,EAAC,GAFP;AAGE,MAAA,MAAM,EAAE,mBACN,oBAAC,QAAD;AACE,QAAA,KAAK,EAAE,KAAKT,KAAL,CAAWC,KADpB;AAEE,QAAA,QAAQ,EAAE,KAAKK,QAFjB;AAGE,QAAA,QAAQ,EAAE,KAAKN,KAAL,CAAWI,QAHvB;AAIE,QAAA,MAAM,EAAE,KAAKJ,KAAL,CAAWE,IAAX,CAAgBwB,EAJ1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,eAqBE,oBAAC,KAAD;AACE,MAAA,KAAK,MADP;AAEE,MAAA,IAAI,EAAC,YAFP;AAGE,MAAA,MAAM,EAAGC,WAAD,iBAAiB,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEA,WAAW,CAACC,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAH3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArBF,eA2BE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,SAAZ;AAAsB,MAAA,MAAM,EAAE,mBAAM,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA3BF,eA4BE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,SAAZ;AAAsB,MAAA,MAAM,EAAE,mBAAM,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA5BF,eA6BE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,MAAM,EAAE,mBAAM,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAE,KAAK5B,KAAL,CAAWE,IAAxB;AAA8B,QAAA,OAAO,EAAE,KAAKO,OAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA7BF,eAkCE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,aADP;AAEE,MAAA,MAAM,EAAE,mBAAM,oBAAC,UAAD;AAAY,QAAA,MAAM,EAAE,KAAKT,KAAL,CAAWE,IAAX,CAAgBwB,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAlCF,eAsCE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,mBADP;AAEE,MAAA,MAAM,EAAGC,WAAD,iBACN,oBAAC,UAAD;AAAY,QAAA,KAAK,EAAEA,WAAW,CAACC,KAA/B;AAAsC,QAAA,MAAM,EAAE,KAAK5B,KAAL,CAAWE,IAAX,CAAgBwB,EAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtCF,eA4CE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,MAAM,EAAE,mBACN,oBAAC,OAAD;AACE,QAAA,IAAI,EAAE,KAAK1B,KAAL,CAAWE,IADnB;AAEE,QAAA,OAAO,EAAE,KAAKO,OAFhB;AAGE,QAAA,WAAW,EAAE,KAAKT,KAAL,CAAWK,WAH1B;AAIE,QAAA,cAAc,EAAE,KAAKK,cAJvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA5CF,eAwDE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,MAAM,EAAE,mBACN,oBAAC,OAAD;AACE,QAAA,WAAW,EAAE,KAAKV,KAAL,CAAWK,WAD1B;AAEE,QAAA,cAAc,EAAE,KAAKK,cAFvB;AAGE,QAAA,QAAQ,EAAE,KAAKV,KAAL,CAAWI,QAHvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxDF,CADF;AAqED;;AApH+B;;AAuHlC,eAAeN,GAAf","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport AllSpots from \"./pages/AllSpots/AllSpots\";\nimport Spot from \"./pages/Spot/Spot\";\nimport Header from \"./components/Header/Header\";\nimport Account from \"./pages/Account/Account\";\nimport SignUp from \"./pages/SignUp/SignUp\";\nimport CreateSpot from \"./pages/CreateSpot/CreateSpot\";\nimport UpdateSpot from \"./pages/UpdateSpot/UpdateSpot\";\nimport LogIn from \"./pages/LogIn/LogIn\";\nimport MySpots from \"./pages/MySpots/MySpots\";\nimport { Route, Switch } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\n\n// import \"./components/Header/node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nclass App extends React.Component {\n  state = {\n    spots: [],\n    user: [],\n    location: {},\n    distance: {},\n    currentUser: [],\n  };\n  setSpots = (data) => {\n    this.setState({ spots: data.data.spots });\n  };\n\n  setUser = (user) => {\n    this.setState({ user: user });\n  };\n  setCurrentUser = (data) => {\n    this.setState({ currentUser: data.data.user });\n  };\n\n  getUserGeolocationDetails = async () => {\n    var response = await fetch(\n      \"https://geolocation-db.com/json/697de680-a737-11ea-9820-af05f4014d91\"\n    );\n    const data = await response.json();\n    // console.log(data);\n    this.setState({ distance: data });\n  };\n\n  handleGetRequest = async () => {\n    let jwt = await localStorage.getItem(\"jwt\");\n    if (jwt) {\n      let user = jwt_decode(jwt);\n\n      console.log(\"user\", user);\n      this.setState({ user: user });\n    }\n  };\n\n  componentDidMount() {\n    this.getUserGeolocationDetails();\n    this.handleGetRequest();\n    this.setSpot();\n  }\n\n  render() {\n    console.log(\"currentUser\", this.state.user);\n    console.log(\"spot details\", this.state.spot);\n    return (\n      <>\n        <Header\n          // history= {this.props.location.pathname}\n          data={this.state.data}\n          setData={this.setData}\n          user={this.state.user}\n          setUser={this.setUser}\n        />\n\n        <Route\n          exact\n          path=\"/\"\n          render={() => (\n            <AllSpots\n              spots={this.state.spots}\n              setSpots={this.setSpots}\n              distance={this.state.distance}\n              userId={this.state.user.id}\n            />\n          )}\n        />\n        <Route\n          exact\n          path=\"/spots/:id\"\n          render={(routerProps) => <Spot match={routerProps.match} />}\n        />\n\n        <Route path=\"/signup\" render={() => <SignUp />} />\n        <Route path=\"/logout\" render={() => <AllSpots />} />\n        <Route\n          path=\"/login\"\n          render={() => <LogIn user={this.state.user} setUser={this.setUser} />}\n        />\n\n        <Route\n          path=\"/createSpot\"\n          render={() => <CreateSpot userId={this.state.user.id} />}\n        />\n        <Route\n          path=\"/spots/:id/update\"\n          render={(routerProps) => (\n            <UpdateSpot match={routerProps.match} userId={this.state.user.id} />\n          )}\n        />\n        <Route\n          path=\"/account\"\n          render={() => (\n            <Account\n              user={this.state.user}\n              setUser={this.setUser}\n              currentUser={this.state.currentUser}\n              setCurrentUser={this.setCurrentUser}\n            />\n          )}\n        />\n\n        <Route\n          path=\"/myspots\"\n          render={() => (\n            <MySpots\n              currentUser={this.state.currentUser}\n              setCurrentUser={this.setCurrentUser}\n              distance={this.state.distance}\n            />\n          )}\n        />\n      </>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}