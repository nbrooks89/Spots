{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nicolebrooks/Desktop/Spots/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nicolebrooks/Desktop/Spots/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/nicolebrooks/Desktop/Spots/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/nicolebrooks/Desktop/Spots/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/nicolebrooks/Desktop/Spots/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/nicolebrooks/Desktop/Spots/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import\"./App.css\";import AllSpots from\"./pages/AllSpots/AllSpots\";import Spot from\"./pages/Spot/Spot\";import Header from\"./components/Header/Header\";import Account from\"./pages/Account/Account\";import SignUp from\"./pages/SignUp/SignUp\";import MySpots from\"./pages/MySpots/MySpots\";import CreateSpot from\"./pages/CreateSpot/CreateSpot\";import UpdateSpot from\"./pages/UpdateSpot/UpdateSpot\";import LogIn from\"./pages/LogIn/LogIn\";import{Route}from\"react-router-dom\";import jwt_decode from\"jwt-decode\";// import \"./components/Header/node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport\"bootstrap/dist/css/bootstrap.min.css\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={spots:[],user:{data:{}},location:{},distance:{},spot:[]};_this.setSpots=function(data){_this.setState({spots:data.data.spots});};_this.setUser=function(user){_this.setState({user:user});};_this.getUserGeolocationDetails=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://geolocation-db.com/json/697de680-a737-11ea-9820-af05f4014d91\");case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;// console.log(data);\n_this.setState({distance:data});case 7:case\"end\":return _context.stop();}}},_callee);}));_this.handleGetRequest=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var jwt,user;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return localStorage.getItem(\"jwt\");case 2:jwt=_context2.sent;if(jwt){user=jwt_decode(jwt);_this.setUser(user);console.log(\"user\",user);}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.getUserGeolocationDetails();this.handleGetRequest();}},{key:\"render\",value:function render(){var _this2=this;console.log(\"user\",this.state.user);console.log(\"spot details\",this.state.spot);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,{data:this.state.data,setData:this.setData,user:this.state.user,setUser:this.setUser}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",render:function render(){return/*#__PURE__*/React.createElement(AllSpots,{spots:_this2.state.spots,setSpots:_this2.setSpots,distance:_this2.state.distance,userId:_this2.state.user.id});}}),/*#__PURE__*/React.createElement(Route,{path:\"/spots/:id\",render:function render(routerProps){return/*#__PURE__*/React.createElement(Spot,{match:routerProps.match,setSpot:_this2.setSpot});}}),/*#__PURE__*/React.createElement(Route,{path:\"/signup\",render:function render(){return/*#__PURE__*/React.createElement(SignUp,{user:_this2.state.user,setUser:_this2.setUser});}}),/*#__PURE__*/React.createElement(Route,{path:\"/logout\",render:function render(){return/*#__PURE__*/React.createElement(AllSpots,null);}}),/*#__PURE__*/React.createElement(Route,{path:\"/login\",render:function render(){return/*#__PURE__*/React.createElement(LogIn,{user:_this2.state.user,setUser:_this2.setUser});}}),/*#__PURE__*/React.createElement(Route,{path:\"/createSpot\",render:function render(){return/*#__PURE__*/React.createElement(CreateSpot,{userId:_this2.state.user.id});}}),/*#__PURE__*/React.createElement(Route,{path:\"/mySpots\",render:function render(){return/*#__PURE__*/React.createElement(MySpots,{distance:_this2.state.distance});}}),/*#__PURE__*/React.createElement(Route,{path:\"/spotupdate/:id\",render:function render(routerProps){return/*#__PURE__*/React.createElement(UpdateSpot,{match:routerProps,userId:_this2.state.user.id});}}),/*#__PURE__*/React.createElement(Route,{path:\"/account\",render:function render(){return/*#__PURE__*/React.createElement(Account,{user:_this2.state.user,setUser:_this2.setUser,currentUser:_this2.state.currentUser,setCurrentUser:_this2.setCurrentUser});}}));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/nicolebrooks/Desktop/Spots/Client/src/App.js"],"names":["React","AllSpots","Spot","Header","Account","SignUp","MySpots","CreateSpot","UpdateSpot","LogIn","Route","jwt_decode","App","state","spots","user","data","location","distance","spot","setSpots","setState","setUser","getUserGeolocationDetails","fetch","response","json","handleGetRequest","localStorage","getItem","jwt","console","log","setData","id","routerProps","match","setSpot","currentUser","setCurrentUser","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport AllSpots from \"./pages/AllSpots/AllSpots\";\nimport Spot from \"./pages/Spot/Spot\";\nimport Header from \"./components/Header/Header\";\nimport Account from \"./pages/Account/Account\";\nimport SignUp from \"./pages/SignUp/SignUp\";\nimport MySpots from \"./pages/MySpots/MySpots\";\nimport CreateSpot from \"./pages/CreateSpot/CreateSpot\";\nimport UpdateSpot from \"./pages/UpdateSpot/UpdateSpot\";\nimport LogIn from \"./pages/LogIn/LogIn\";\n\nimport { Route } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\n\n// import \"./components/Header/node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nclass App extends React.Component {\n  state = {\n    spots: [],\n    user: { data: {} },\n    location: {},\n    distance: {},\n    spot: [],\n  };\n  setSpots = (data) => {\n    this.setState({ spots: data.data.spots });\n  };\n\n  setUser = (user) => {\n    this.setState({ user: user });\n  };\n\n  getUserGeolocationDetails = async () => {\n    var response = await fetch(\n      \"https://geolocation-db.com/json/697de680-a737-11ea-9820-af05f4014d91\"\n    );\n    const data = await response.json();\n    // console.log(data);\n    this.setState({ distance: data });\n  };\n\n  handleGetRequest = async () => {\n    let jwt = await localStorage.getItem(\"jwt\");\n    if (jwt) {\n      let user = jwt_decode(jwt);\n\n      this.setUser(user);\n      console.log(\"user\", user);\n    }\n  };\n\n  componentDidMount() {\n    this.getUserGeolocationDetails();\n    this.handleGetRequest();\n  }\n\n  render() {\n    console.log(\"user\", this.state.user);\n    console.log(\"spot details\", this.state.spot);\n    return (\n      <>\n        <Header\n          data={this.state.data}\n          setData={this.setData}\n          user={this.state.user}\n          setUser={this.setUser}\n        />\n\n        <Route\n          exact\n          path=\"/\"\n          render={() => (\n            <AllSpots\n              spots={this.state.spots}\n              setSpots={this.setSpots}\n              distance={this.state.distance}\n              userId={this.state.user.id}\n            />\n          )}\n        />\n        <Route\n          path=\"/spots/:id\"\n          render={(routerProps) => (\n            <Spot match={routerProps.match} setSpot={this.setSpot} />\n          )}\n        />\n\n        <Route\n          path=\"/signup\"\n          render={() => (\n            <SignUp user={this.state.user} setUser={this.setUser} />\n          )}\n        />\n        <Route path=\"/logout\" render={() => <AllSpots />} />\n        <Route\n          path=\"/login\"\n          render={() => <LogIn user={this.state.user} setUser={this.setUser} />}\n        />\n\n        <Route\n          path=\"/createSpot\"\n          render={() => <CreateSpot userId={this.state.user.id} />}\n        />\n        <Route\n          path=\"/mySpots\"\n          render={() => <MySpots distance={this.state.distance} />}\n        />\n\n        <Route\n          path=\"/spotupdate/:id\"\n          render={(routerProps) => (\n            <UpdateSpot match={routerProps} userId={this.state.user.id} />\n          )}\n        />\n        <Route\n          path=\"/account\"\n          render={() => (\n            <Account\n              user={this.state.user}\n              setUser={this.setUser}\n              currentUser={this.state.currentUser}\n              setCurrentUser={this.setCurrentUser}\n            />\n          )}\n        />\n      </>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}